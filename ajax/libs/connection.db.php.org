<?php

require_once("MDB2.php");

function connectDB($dsn)
{
	$dbHandle =& MDB2::connect($dsn);
	$dbHandle->setFetchMode(MDB2_FETCHMODE_ASSOC);
	// don't assume '' as null
	$dbHandle->setOption('portability',
	   MDB2_PORTABILITY_ALL & (~MDB2_PORTABILITY_EMPTY_TO_NULL));
	// nextId() compatible to PEAR::DB
	$dbHandle->setOption('seqcol_name', 'id');

	$dbHandle->setCharset('utf8');

	$dbHandle->loadModule('Extended');

	return $dbHandle;
}

function disConnectDB()
{
	global $dbHandle;

	$dbHandle->disconnect();
}

?>
